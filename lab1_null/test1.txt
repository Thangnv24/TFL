4
x,t,y
g(g(t, t), h(t))
g(x,y) -> g(h(x), y)
h(t) -> g(t, t)

Result
Original term: g(g(t, t), h(t))
Step 1: 
g(g(t, t), g(t, t))
g(g(h(t), t), h(t))
g(h(g(t, t)), h(t))
Step 2: 
g(h(g(h(t), t)), h(t))
g(h(g(t, t)), g(t, t))
g(g(g(t, t), t), h(t))
g(g(h(t), t), g(t, t))
g(g(g(t, t), g(t, t)), h(t))
g(g(h(h(t)), t), h(t))
g(h(h(g(t, t))), h(t))
g(g(t, t), g(h(t), t))
Step 3: 
g(h(h(h(g(t, t)))), h(t))
g(h(h(g(h(t), t))), h(t))
g(h(h(g(t, t))), g(t, t))
g(g(h(h(h(t))), t), h(t))
g(g(g(t, t), g(h(t), t)), h(t))
g(g(h(g(t, t)), h(g(t, t))), h(t))
g(g(h(g(t, t)), g(t, t)), h(t))
g(g(h(h(t)), t), g(t, t))
g(g(h(g(t, t)), t), h(t))
g(g(g(t, t), g(t, t)), g(t, t))
g(g(g(t, t), t), g(t, t))
g(h(g(h(h(t)), t)), h(t))
g(h(g(g(t, t), t)), h(t))
g(g(h(t), t), g(h(t), t))
g(g(g(h(t), t), g(t, t)), h(t))
g(g(t, t), g(g(t, t), t))
g(h(g(g(t, t), g(t, t))), h(t))
g(h(g(t, t)), g(h(t), t))
g(g(g(h(t), t), t), h(t))
g(g(g(h(t), t), g(h(t), t)), h(t))
g(g(g(h(t), h(t)), t), h(t))
g(g(t, t), g(h(h(t)), t))
g(h(g(h(t), t)), g(t, t))
Step 4: 
g(h(g(t, t)), g(h(h(t)), t))
g(g(g(h(t), t), g(g(t, t), t)), h(t))
g(g(h(g(h(t), t)), g(h(t), t)), h(t))
g(g(h(t), t), g(h(h(t)), t))
g(g(g(t, t), g(h(h(t)), t)), h(t))
g(g(g(t, t), g(g(t, t), t)), h(t))
g(g(g(h(t), t), g(t, t)), g(t, t))
g(g(g(h(h(t)), h(t)), t), h(t))
g(g(h(g(h(t), h(t))), t), h(t))
g(g(h(g(t, t)), g(h(t), t)), h(t))
g(h(g(g(t, t), g(t, t))), g(t, t))
g(g(g(g(t, t), t), g(g(t, t), t)), h(t))
g(g(g(h(h(t)), t), g(t, t)), h(t))
g(g(g(g(t, t), g(t, t)), h(g(t, t))), h(t))
g(h(g(h(g(t, t)), t)), h(t))
g(h(g(g(h(t), t), g(t, t))), h(t))
g(g(t, t), g(h(h(h(t))), t))
g(g(g(g(t, t), t), g(h(t), t)), h(t))
g(h(g(h(g(t, t)), g(t, t))), h(t))
g(g(g(h(h(t)), t), g(h(h(t)), t)), h(t))
g(g(g(h(h(t)), t), t), h(t))
g(g(h(g(t, t)), t), g(t, t))
g(g(g(h(t), t), t), g(t, t))
g(h(h(h(h(g(t, t))))), h(t))
g(g(h(g(h(t), t)), t), h(t))
g(h(h(g(h(t), t))), g(t, t))
g(g(h(g(t, t)), g(t, t)), g(t, t))
g(h(g(g(h(t), h(t)), t)), h(t))
g(g(g(g(t, t), g(t, t)), g(g(t, t), g(t, t))), h(t))
g(g(h(g(h(t), t)), g(t, t)), h(t))
g(g(g(h(t), g(t, t)), t), h(t))
g(h(g(g(t, t), g(h(t), t))), h(t))
g(g(h(g(h(t), t)), h(g(t, t))), h(t))
g(g(g(h(h(t)), h(h(t))), t), h(t))
g(g(g(g(t, t), h(t)), t), h(t))
g(h(h(g(g(t, t), g(t, t)))), h(t))
g(h(h(h(g(t, t)))), g(t, t))
g(h(h(g(g(t, t), t))), h(t))
g(g(h(h(g(t, t))), t), h(t))
g(g(h(h(g(t, t))), h(g(t, t))), h(t))
g(g(h(g(t, t)), g(g(t, t), g(t, t))), h(t))
g(h(g(g(h(t), t), t)), h(t))
g(h(g(h(h(h(t))), t)), h(t))
g(g(g(t, t), t), g(h(t), t))
g(h(h(g(h(h(t)), t))), h(t))
g(g(h(g(t, t)), h(g(t, t))), g(t, t))
g(g(h(h(g(t, t))), h(h(g(t, t)))), h(t))
g(h(g(g(t, t), t)), g(t, t))
g(g(g(h(h(t)), t), g(h(t), t)), h(t))
g(h(g(h(g(t, t)), h(g(t, t)))), h(t))
g(h(g(h(h(t)), t)), g(t, t))
g(g(h(h(g(t, t))), g(t, t)), h(t))
g(g(t, t), g(g(h(t), h(t)), t))
g(g(g(g(t, t), t), t), h(t))
g(g(g(g(t, t), t), g(t, t)), h(t))
g(h(g(t, t)), g(g(t, t), t))
g(g(t, t), g(g(h(t), t), t))
g(g(g(h(t), t), g(h(h(t)), t)), h(t))
g(g(g(h(t), t), g(h(t), t)), g(t, t))
g(g(g(t, t), g(t, t)), g(h(t), t))
g(g(g(h(t), t), g(h(t), t)), h(t))
g(g(h(g(h(t), t)), h(g(h(t), t))), h(t))
g(h(h(h(g(h(t), t)))), h(t))
g(g(h(g(t, t)), h(g(h(t), t))), h(t))
g(g(g(h(t), h(t)), t), g(t, t))
g(h(g(h(t), t)), g(h(t), t))
g(g(h(t), t), g(g(t, t), t))
g(h(g(g(h(t), t), g(h(t), t))), h(t))
g(g(h(h(t)), t), g(h(t), t))
g(g(h(h(h(t))), t), g(t, t))
g(g(g(t, t), g(h(t), t)), g(t, t))
g(g(h(h(h(h(t)))), t), h(t))
g(h(h(g(t, t))), g(h(t), t))
g(g(t, t), g(h(g(t, t)), t))
g(g(g(g(t, t), g(t, t)), g(t, t)), h(t))
g(g(g(g(t, t), g(t, t)), t), h(t))
